# Trading Analysis Platform - Environment Configuration
# Copy this file to .env and fill in your actual values

# Application Settings
APP_NAME="Trading Analysis Platform"
APP_VERSION="1.0.0"
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# Server Settings
HOST=0.0.0.0
PORT=8000
WORKERS=1

# Security Settings - CHANGE THESE IN PRODUCTION
SECRET_KEY=your-secret-key-change-in-production
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours
JWT_REFRESH_TOKEN_EXPIRE_MINUTES=10080  # 7 days

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://*.vercel.app
ALLOWED_HOSTS=*

# Kite Connect API Settings
KITE_API_KEY=your-kite-api-key
KITE_API_SECRET=your-kite-api-secret
KITE_REDIRECT_URL=http://localhost:8000/auth/callback

# Database Settings (PostgreSQL)
# Option 1: Use individual components
DB_HOST=localhost
DB_PORT=5432
DB_NAME=trading_platform
DB_USER=postgres
DB_PASSWORD=password

# Option 2: Use full DATABASE_URL (overrides individual components)
# DATABASE_URL=postgresql://user:password@localhost:5432/trading_platform

DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Redis Settings
# Option 1: Use individual components
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Option 2: Use full REDIS_URL (overrides individual components)
# REDIS_URL=redis://localhost:6379/0

REDIS_MAX_CONNECTIONS=20

# Cache TTL Settings (seconds)
CACHE_TTL_ANALYSIS=300     # 5 minutes
CACHE_TTL_QUOTES=60        # 1 minute
CACHE_TTL_SEARCH=3600      # 1 hour

# Rate Limiting
RATE_LIMIT_ANALYSIS=20/minute
RATE_LIMIT_AUTH=10/minute
RATE_LIMIT_GENERAL=100/minute

# Analysis Settings
DEFAULT_ANALYSIS_WINDOW=60
MAX_ANALYSIS_WINDOW=365
MAX_CONCURRENT_ANALYSIS=50

# Logging Settings
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text
LOG_FILE=  # Optional: path to log file

# External API Settings
REQUEST_TIMEOUT=30
MAX_RETRIES=3
RETRY_BACKOFF=0.5

# Railway Environment Variables (automatically set by Railway)
# DATABASE_URL=  # Set by Railway PostgreSQL
# REDIS_URL=     # Set by Railway Redis
# PORT=          # Set by Railway